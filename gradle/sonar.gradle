jacoco {
	toolVersion = "0.8.8"
}

jacocoTestReport{
	executionData tasks.withType(Test)
	classDirectories.form = files(sourceSets.main.output.classesDirs)
	sourceDirectories.form = files(sourceSets.main.java.srcDirs)
	
	reports{
		xml.enabled = true
	}
}

file("sonar-project.properties").withReader {
	Properties sonarProperties = new Properties()
	sonarProperties.load(it)
	
	sonarProperties.each { key, value ->
		sonarqube{
			properties {
				property key, value
			}		
		}
	}
}